{ "apiVersion": "v1", "items": [ { "apiVersion": "apps/v1", "kind": "Deployment", "metadata": { "annotations": { "deployment.kubernetes.io/revision": "1", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"openvidu-server\"},\"name\":\"openvidu-server-deployment\",\"namespace\":\"default\"},\"spec\":{\"replicas\":3,\"selector\":{\"matchLabels\":{\"app\":\"openvidu-server\"}},\"template\":{\"metadata\":{\"labels\":{\"app\":\"openvidu-server\"}},\"spec\":{\"containers\":[{\"env\":[{\"name\":\"POD_IP\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"status.podIP\"}}},{\"name\":\"COTURN_SHARED_SECRET_KEY\",\"value\":\"dTK6LOd93Mpdv1DP3sk4xfEQm7IGtYLD2\"},{\"name\":\"SERVER_SSL_ENABLED\",\"value\":\"false\"},{\"name\":\"DOMAIN_OR_PUBLIC_IP\",\"value\":\"vidu.hostype.com\"},{\"name\":\"KMS_URIS\",\"value\":\"[\"ws://vidu.hostype.com:8888/kurento\"]\"},{\"name\":\"OPENVIDU_SECRET\",\"value\":\"dTK6LOd93Mpdv1DP3sk4xfEQm7IGtYLD2\"},{\"name\":\"ALLOWED_ACCESS_TO_DASHBOARD\",\"value\":\"all\"},{\"name\":\"ALLOWED_ACCESS_TO_RESTAPI\",\"value\":\"all\"},{\"name\":\"OPENVIDU_WEBHOOK\",\"value\":\"true\"},{\"name\":\"OPENVIDU_WEBHOOK_ENDPOINT\",\"value\":\"https://api.hostype.com/activities?token=dTK6LOd93Mpdv1DP3sk4xfEQm7IGtYLD2\"},{\"name\":\"COTURN_IP\",\"value\":\"turn.hostype.com\"},{\"name\":\"COTURN_PORT\",\"value\":\"3478\"},{\"name\":\"SERVER_PORT\",\"value\":\"5443\"},{\"name\":\"HTTP_PORT\",\"value\":\"80\"},{\"name\":\"HTTPS_PORT\",\"value\":\"443\"},{\"name\":\"CERTIFICATE_TYPE\",\"value\":\"selfsigned\"},{\"name\":\"SUPPORT_DEPRECATED_API\",\"value\":\"false\"}],\"image\":\"docker.io/openvidu/openvidu-server:2.28.0\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"openvidu-server\",\"ports\":[{\"containerPort\":5443}],\"resources\":{}},{\"env\":[{\"name\":\"POD_IP\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"status.podIP\"}}},{\"name\":\"KMS_MIN_PORT\",\"value\":\"40000\"},{\"name\":\"KMS_MAX_PORT\",\"value\":\"57000\"},{\"name\":\"KURENTO_LOGS_PATH\",\"value\":\"/opt/openvidu/kurento-logs\"}],\"image\":\"kurento/kurento-media-server:6.18.0\",\"name\":\"kms\",\"ports\":[{\"containerPort\":8888}],\"resources\":{}},{\"args\":[\"--log-file=stdout\",\"--listening-port=3478\",\"--fingerprint\",\"--min-port=57001\",\"--max-port=65535\",\"--realm=openvidu\",\"--verbose\",\"--use-auth-secret\",\"--static-auth-secret=dTK6LOd93Mpdv1DP3sk4xfEQm7IGtYLD2\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"openvidu-config\"}}],\"image\":\"docker.io/openvidu/openvidu-coturn:2.28.0\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"openvidu-coturn\",\"ports\":[{\"containerPort\":3478,\"protocol\":\"TCP\"},{\"containerPort\":3478,\"protocol\":\"UDP\"}],\"resources\":{}}],\"hostNetwork\":true}}}} " }, "creationTimestamp": "2023-07-25T16:46:40Z", "generation": 1, "labels": { "app": "openvidu-server" }, "name": "openvidu-server-deployment", "namespace": "default", "resourceVersion": "3202", "uid": "5ac0a1a9-7779-4d8e-babf-401e9d7c02fc" }, "spec": { "progressDeadlineSeconds": 600, "replicas": 3, "revisionHistoryLimit": 10, "selector": { "matchLabels": { "app": "openvidu-server" } }, "strategy": { "rollingUpdate": { "maxSurge": "25%", "maxUnavailable": "25%" }, "type": "RollingUpdate" }, "template": { "metadata": { "creationTimestamp": null, "labels": { "app": "openvidu-server" } }, "spec": { "containers": [ { "env": [ { "name": "POD_IP", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "status.podIP" } } }, { "name": "COTURN_SHARED_SECRET_KEY", "value": "dTK6LOd93Mpdv1DP3sk4xfEQm7IGtYLD2" }, { "name": "SERVER_SSL_ENABLED", "value": "false" }, { "name": "DOMAIN_OR_PUBLIC_IP", "value": "vidu.hostype.com" }, { "name": "KMS_URIS", "value": "[\"ws://vidu.hostype.com:8888/kurento\"]" }, { "name": "OPENVIDU_SECRET", "value": "dTK6LOd93Mpdv1DP3sk4xfEQm7IGtYLD2" }, { "name": "ALLOWED_ACCESS_TO_DASHBOARD", "value": "all" }, { "name": "ALLOWED_ACCESS_TO_RESTAPI", "value": "all" }, { "name": "OPENVIDU_WEBHOOK", "value": "true" }, { "name": "OPENVIDU_WEBHOOK_ENDPOINT", "value": "https://api.hostype.com/activities?token=dTK6LOd93Mpdv1DP3sk4xfEQm7IGtYLD2" }, { "name": "COTURN_IP", "value": "turn.hostype.com" }, { "name": "COTURN_PORT", "value": "3478" }, { "name": "SERVER_PORT", "value": "5443" }, { "name": "HTTP_PORT", "value": "80" }, { "name": "HTTPS_PORT", "value": "443" }, { "name": "CERTIFICATE_TYPE", "value": "selfsigned" }, { "name": "SUPPORT_DEPRECATED_API", "value": "false" } ], "image": "docker.io/openvidu/openvidu-server:2.28.0", "imagePullPolicy": "IfNotPresent", "name": "openvidu-server", "ports": [ { "containerPort": 5443, "hostPort": 5443, "protocol": "TCP" } ], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File" }, { "env": [ { "name": "POD_IP", "valueFrom": { "fieldRef": { "apiVersion": "v1", "fieldPath": "status.podIP" } } }, { "name": "KMS_MIN_PORT", "value": "40000" }, { "name": "KMS_MAX_PORT", "value": "57000" }, { "name": "KURENTO_LOGS_PATH", "value": "/opt/openvidu/kurento-logs" } ], "image": "kurento/kurento-media-server:6.18.0", "imagePullPolicy": "IfNotPresent", "name": "kms", "ports": [ { "containerPort": 8888, "hostPort": 8888, "protocol": "TCP" } ], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File" }, { "args": [ "--log-file=stdout", "--listening-port=3478", "--fingerprint", "--min-port=57001", "--max-port=65535", "--realm=openvidu", "--verbose", "--use-auth-secret", "--static-auth-secret=dTK6LOd93Mpdv1DP3sk4xfEQm7IGtYLD2" ], "envFrom": [ { "configMapRef": { "name": "openvidu-config" } } ], "image": "docker.io/openvidu/openvidu-coturn:2.28.0", "imagePullPolicy": "IfNotPresent", "name": "openvidu-coturn", "ports": [ { "containerPort": 3478, "hostPort": 3478, "protocol": "TCP" }, { "containerPort": 3478, "hostPort": 3478, "protocol": "UDP" } ], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File" } ], "dnsPolicy": "ClusterFirst", "hostNetwork": true, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30 } } }, "status": { "availableReplicas": 3, "conditions": [ { "lastTransitionTime": "2023-07-25T16:48:53Z", "lastUpdateTime": "2023-07-25T16:48:53Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available" }, { "lastTransitionTime": "2023-07-25T16:46:40Z", "lastUpdateTime": "2023-07-25T16:48:53Z", "message": "ReplicaSet \"openvidu-server-deployment-696c68597b\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing" } ], "observedGeneration": 1, "readyReplicas": 3, "replicas": 3, "updatedReplicas": 3 } }, { "apiVersion": "apps/v1", "kind": "Deployment", "metadata": { "annotations": { "deployment.kubernetes.io/revision": "2", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"api\"},\"name\":\"api-server\",\"namespace\":\"default\"},\"spec\":{\"replicas\":3,\"selector\":{\"matchLabels\":{\"app\":\"api\"}},\"template\":{\"metadata\":{\"labels\":{\"app\":\"api\"}},\"spec\":{\"containers\":[{\"command\":[\"yarn\",\"develop\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"api-server-config\"}}],\"image\":\"meetlily/api:v4\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"api-server-container\",\"ports\":[{\"containerPort\":1337}],\"resources\":{},\"volumeMounts\":[{\"mountPath\":\"/app\",\"name\":\"empty-volume\"}]}],\"volumes\":[{\"emptyDir\":{},\"name\":\"empty-volume\"}]}}}} " }, "creationTimestamp": "2023-07-25T16:46:40Z", "generation": 2, "labels": { "app": "api" }, "name": "api-server", "namespace": "default", "resourceVersion": "6042", "uid": "bd71f86c-610c-4580-948e-ab3f6ac408c3" }, "spec": { "progressDeadlineSeconds": 600, "replicas": 3, "revisionHistoryLimit": 10, "selector": { "matchLabels": { "app": "api" } }, "strategy": { "rollingUpdate": { "maxSurge": "25%", "maxUnavailable": "25%" }, "type": "RollingUpdate" }, "template": { "metadata": { "annotations": { "kubectl.kubernetes.io/restartedAt": "2023-07-25T16:59:41Z" }, "creationTimestamp": null, "labels": { "app": "api" } }, "spec": { "containers": [ { "command": [ "yarn", "develop" ], "envFrom": [ { "configMapRef": { "name": "api-server-config" } } ], "image": "meetlily/api:v4", "imagePullPolicy": "IfNotPresent", "name": "api-server-container", "ports": [ { "containerPort": 1337, "protocol": "TCP" } ], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [ { "mountPath": "/app", "name": "empty-volume" } ] } ], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [ { "emptyDir": {}, "name": "empty-volume" } ] } } }, "status": { "availableReplicas": 3, "conditions": [ { "lastTransitionTime": "2023-07-25T16:48:22Z", "lastUpdateTime": "2023-07-25T16:48:22Z", "message": "Deployment has minimum availability.", "reason": "MinimumReplicasAvailable", "status": "True", "type": "Available" }, { "lastTransitionTime": "2023-07-25T16:46:40Z", "lastUpdateTime": "2023-07-25T17:00:42Z", "message": "ReplicaSet \"api-server-5846f89f9d\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing" } ], "observedGeneration": 2, "readyReplicas": 3, "replicas": 3, "updatedReplicas": 3 } }, { "apiVersion": "apps/v1", "kind": "Deployment", "metadata": { "annotations": { "deployment.kubernetes.io/revision": "1", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{},\"name\":\"nodejs-app-deployment\",\"namespace\":\"default\"},\"spec\":{\"replicas\":1,\"selector\":{\"matchLabels\":{\"app\":\"nodejs-app\"}},\"template\":{\"metadata\":{\"labels\":{\"app\":\"nodejs-app\"}},\"spec\":{\"containers\":[{\"image\":\"node:16\",\"name\":\"nodejs-app\",\"ports\":[{\"containerPort\":3000}],\"volumeMounts\":[{\"mountPath\":\"/app\",\"name\":\"app-volume\"}]}],\"volumes\":[{\"name\":\"app-volume\",\"persistentVolumeClaim\":{\"claimName\":\"app-pvc\"}}]}}}} " }, "creationTimestamp": "2023-07-25T19:31:17Z", "generation": 1, "name": "nodejs-app-deployment", "namespace": "default", "resourceVersion": "166691", "uid": "3800f75a-3e54-458c-a2ab-99ea3fdcb4e5" }, "spec": { "progressDeadlineSeconds": 600, "replicas": 1, "revisionHistoryLimit": 10, "selector": { "matchLabels": { "app": "nodejs-app" } }, "strategy": { "rollingUpdate": { "maxSurge": "25%", "maxUnavailable": "25%" }, "type": "RollingUpdate" }, "template": { "metadata": { "creationTimestamp": null, "labels": { "app": "nodejs-app" } }, "spec": { "containers": [ { "image": "node:16", "imagePullPolicy": "IfNotPresent", "name": "nodejs-app", "ports": [ { "containerPort": 3000, "protocol": "TCP" } ], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [ { "mountPath": "/app", "name": "app-volume" } ] } ], "dnsPolicy": "ClusterFirst", "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "terminationGracePeriodSeconds": 30, "volumes": [ { "name": "app-volume", "persistentVolumeClaim": { "claimName": "app-pvc" } } ] } } }, "status": { "conditions": [ { "lastTransitionTime": "2023-07-25T19:31:17Z", "lastUpdateTime": "2023-07-25T19:31:50Z", "message": "ReplicaSet \"nodejs-app-deployment-7fdd5459d6\" has successfully progressed.", "reason": "NewReplicaSetAvailable", "status": "True", "type": "Progressing" }, { "lastTransitionTime": "2023-07-26T06:42:34Z", "lastUpdateTime": "2023-07-26T06:42:34Z", "message": "Deployment does not have minimum availability.", "reason": "MinimumReplicasUnavailable", "status": "False", "type": "Available" } ], "observedGeneration": 1, "replicas": 1, "unavailableReplicas": 1, "updatedReplicas": 1 } } ], "kind": "List", "metadata": { "resourceVersion": "" } }
